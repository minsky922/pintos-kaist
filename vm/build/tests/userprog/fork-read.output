Kernel command line: -q -f put fork-read put sample.txt run fork-read
0 ~ 9fc00 1
100000 ~ 13e0000 1
Pintos booting with: 
	base_mem: 0x0 ~ 0x9fc00 (Usable: 639 kB)
	ext_mem: 0x100000 ~ 0x13e0000 (Usable: 19,328 kB)
Calibrating timer...  130,867,200 loops/s.
hd0:0: detected 337 sector (168 kB) disk, model "QEMU HARDDISK", serial "QM00001"
hd0:1: detected 20,160 sector (9 MB) disk, model "QEMU HARDDISK", serial "QM00002"
hd1:0: detected 111 sector (55 kB) disk, model "QEMU HARDDISK", serial "QM00003"
hd1:1: detected 8,064 sector (3 MB) disk, model "QEMU HARDDISK", serial "QM00004"
Formatting file system...done.
Boot complete.
Putting 'fork-read' into the file system...
Putting 'sample.txt' into the file system...
Executing 'fork-read':
(fork-read) begin
(fork-read) open "sample.txt"
(fork-read) child run
(fork-read) Child: pintos is funny!
(fork-read) end
child: exit(0)
fork-read: exit(-1)
Kernel PANIC at ../../threads/palloc.c:321 in palloc_free_multiple(): assertion `bitmap_all (pool->used_map, page_idx, page_cnt)' failed.
Call stack: 0x800421843a 0x800420bd2e 0x800420bd7b 0x800420d0aa 0x800420d12d 0x800420d1b0 0x800420d279 0x800421c676 0x800421c5c7 0x800420757a 0x800421dab4 0x800421d38f 0x8004209212 0x8004209630 0x8004220742 0x800421f6c7 0x800421e08c 0x800421d6e3 0x800421d404Interrupt 0x0d (#GP General Protection Exception) at rip=80042214cd
 cr2=000000004747ff50 error=               0
rax ccccccccccccccb4 rbx 000000004747ffKernel PANIC recursion at ../../threads/thread.c:366 in thread_current().
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220a05
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004223a6d rdx 000000000000001c
rsp 0000008004244e70 rbp 0000008004244e80 rsi 00000000000000d7 rdi cccccccccccccccc
rip 0000008004220a05 r8 0000008004223a9a  r9 000000800421835f r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000002
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000025
rsp 0000008004244c60 rbp 0000008004244c70 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000002e
rsp 0000008004244a50 rbp 0000008004244a60 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000037
rsp 0000008004244840 rbp 0000008004244850 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000000
rsp 0000008004244630 rbp 0000008004244640 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000009
rsp 0000008004244420 rbp 0000008004244430 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000012
rsp 0000008004244210 rbp 0000008004244220 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000001b
rsp 0000008004244000 rbp 0000008004244010 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000024
rsp 0000008004243df0 rbp 0000008004243e00 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000002d
rsp 0000008004243be0 rbp 0000008004243bf0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000036
rsp 00000080042439d0 rbp 00000080042439e0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000003f
rsp 00000080042437c0 rbp 00000080042437d0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000008
rsp 00000080042435b0 rbp 00000080042435c0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000011
rsp 00000080042433a0 rbp 00000080042433b0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000001a
rsp 0000008004243190 rbp 00000080042431a0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000023
rsp 0000008004242f80 rbp 0000008004242f90 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000002c
rsp 0000008004242d70 rbp 0000008004242d80 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000035
rsp 0000008004242b60 rbp 0000008004242b70 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000003e
rsp 0000008004242950 rbp 0000008004242960 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000007
rsp 0000008004242740 rbp 0000008004242750 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000010
rsp 0000008004242530 rbp 0000008004242540 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000019
rsp 0000008004242320 rbp 0000008004242330 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000022
rsp 0000008004242110 rbp 0000008004242120 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000002b
rsp 0000008004241f00 rbp 0000008004241f10 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000034
rsp 0000008004241cf0 rbp 0000008004241d00 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000003d
rsp 0000008004241ae0 rbp 0000008004241af0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000006
rsp 00000080042418d0 rbp 00000080042418e0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 000000000000000f
rsp 00000080042416c0 rbp 00000080042416d0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000018
rsp 00000080042414b0 rbp 00000080042414c0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=80042204eb
 cr2=000000004747ff50 error=               0
rax cccccccccccccccc rbx 000000004747ff00 rcx 0000008004227af8 rdx 0000000000000021
rsp 00000080042412a0 rbp 00000080042412b0 rsi 000000000000000a rdi cccccccccccccccc
rip 00000080042204eb r8 000000800421835f  r9 000000800421b8b3 r10 0000000000000000
r11 0000000000000206 r12 000000800421d50f r13 0000000000000002 r14 0000008004245eb0
r15 0000000000000002 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
